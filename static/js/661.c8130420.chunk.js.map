{"version":3,"file":"static/js/661.c8130420.chunk.js","mappings":"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","sources":["MarkDownParser/App.jsx"],"sourcesContent":["// 25.10.28\n// create\n// 用来渲染野生markdown文件的\n\nimport React, { useState, useEffect } from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport remarkGfm from 'remark-gfm';\nimport './MarkdownViewer.css';\n\nconst MarkdownViewer = () => {\n  const [markdown, setMarkdown] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [url, setUrl] = useState('');\n\n  useEffect(() => {\n    // 解析URL参数\n    const queryParams = new URLSearchParams(window.location.search);\n    const markdownUrl = queryParams.get('url');\n\n    if (markdownUrl) {\n      setUrl(markdownUrl);\n      fetchMarkdown(markdownUrl);\n    } else {\n      setLoading(false);\n      setError('No URL parameter provided. Use ?url=https://example.com/markdown.md');\n    }\n  }, []);\n\n  useEffect(() => {\n    // 当markdown内容变化时，提取标题并设置页面标题\n    if (markdown) {\n      extractTitleFromMarkdown();\n    }\n  }, [markdown]);\n\n  const extractTitleFromMarkdown = () => {\n    // 查找第一个一级标题\n    const match = markdown.match(/^#\\s+(.+)$/m);\n    if (match && match[1]) {\n      // 设置浏览器标签标题\n      document.title = `${match[1]} - 月桂树`;\n    } else {\n      document.title = 'Markdown Viewer - 月桂树';\n    }\n  };\n\n  const fetchMarkdown = async (url) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch Markdown: ${response.status} ${response.statusText}`);\n      }\n\n      const text = await response.text();\n      setMarkdown(text);\n    } catch (err) {\n      // 用proxy重试\n      try {\n        const newUrl = new URL(url)\n        newUrl.searchParams.set('proxy_host', newUrl.host);\n        newUrl.host = 'proxy.moonchan.xyz';\n        const response = await fetch(newUrl)\n        if (!response.ok) {\n          throw new Error(`Failed to fetch Markdown: ${response.status} ${response.statusText}`);\n        }\n\n        const text = await response.text();\n        setMarkdown(text);\n\n      } catch (err) {\n        setError(err.message);\n        console.error('Error fetching Markdown:', err);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const CodeBlock = ({ inline, className, children, ...props }) => {\n    const match = /language-(\\w+)/.exec(className || '');\n\n    return !inline && match ? (\n      <>{String(children).replace(/\\n$/, '')}</>\n    ) : (\n      <code className={className} {...props}>\n        {children}\n      </code>\n    );\n  };\n\n  const handleReload = () => {\n    if (url) {\n      fetchMarkdown(url);\n    }\n  };\n\n  const handleUrlChange = (e) => {\n    setUrl(e.target.value);\n  };\n\n  const handleLoadNewUrl = () => {\n    if (url) {\n      window.location.search = `?url=${encodeURIComponent(url)}`;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"loading-container\">\n        <div className=\"spinner\"></div>\n        <p>Loading Markdown from {url}...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"error-container\">\n        <h2>Error Loading Markdown</h2>\n        <p>{error}</p>\n        <div className=\"url-controls\">\n          <input\n            type=\"text\"\n            value={url}\n            onChange={handleUrlChange}\n            placeholder=\"Enter Markdown URL\"\n          />\n          <button onClick={handleLoadNewUrl}>Load</button>\n          <button onClick={handleReload}>Retry</button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <main className=\"markdown-viewer\">\n      <div className=\"markdown-content\">\n        <ReactMarkdown\n          remarkPlugins={[remarkGfm]}\n          components={{\n            code: CodeBlock,\n            a: ({ node, ...props }) => <a target=\"_blank\" rel=\"noopener noreferrer\" {...props} />,\n            img: ({ node, ...props }) => <img style={{ maxWidth: '100%' }} {...props} />\n          }}\n        >\n          {markdown}\n        </ReactMarkdown>\n      </div>\n\n      <div className=\"footer\">\n        <p>Rendered with React Markdown Viewer | {new Date().toLocaleDateString()}</p> \n        <p><a href=\"https://moonchan.xyz/\">月岛 - 匿名版</a></p>\n      </div>\n    </main>\n  );\n};\n\nexport default MarkdownViewer;"],"names":["MarkdownViewer","markdown","setMarkdown","useState","loading","setLoading","error","setError","url","setUrl","useEffect","markdownUrl","URLSearchParams","window","location","search","get","fetchMarkdown","extractTitleFromMarkdown","match","document","title","async","response","fetch","ok","Error","status","statusText","text","err","newUrl","URL","searchParams","set","host","message","console","handleReload","handleUrlChange","e","target","value","handleLoadNewUrl","encodeURIComponent","_jsxs","className","children","_jsx","type","onChange","placeholder","onClick","ReactMarkdown","remarkPlugins","remarkGfm","components","code","_ref","inline","props","exec","_Fragment","String","replace","a","_ref2","node","rel","img","_ref3","style","maxWidth","Date","toLocaleDateString","href"],"sourceRoot":""}