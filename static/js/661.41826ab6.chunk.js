"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[661],{3661:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(5043),a=n(8494),s=n(9285),o=n(579);const c=()=>{const[e,t]=(0,r.useState)(""),[n,c]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null),[d,h]=(0,r.useState)("");(0,r.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("url");e?(h(e),u(e)):(c(!1),i("No URL parameter provided. Use ?url=https://example.com/markdown.md"))}),[]),(0,r.useEffect)((()=>{e&&m()}),[e]);const m=()=>{const t=e.match(/^#\s+(.+)$/m);t&&t[1]?document.title=`${t[1]} - \u6708\u6842\u6811`:document.title="Markdown Viewer - \u6708\u6842\u6811"},u=async e=>{try{c(!0),i(null);const n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch Markdown: ${n.status} ${n.statusText}`);const r=await n.text();t(r)}catch(n){try{const n=new URL(e);n.searchParams.set("proxy_host",n.host),n.host="proxy.moonchan.xyz";const r=await fetch(n);if(!r.ok)throw new Error(`Failed to fetch Markdown: ${r.status} ${r.statusText}`);const a=await r.text();t(a)}catch(n){i(n.message),console.error("Error fetching Markdown:",n)}}finally{c(!1)}},w=()=>{d&&u(d)},x=e=>{h(e.target.value)},p=()=>{d&&(window.location.search=`?url=${encodeURIComponent(d)}`)};return n?(0,o.jsxs)("div",{className:"loading-container",children:[(0,o.jsx)("div",{className:"spinner"}),(0,o.jsxs)("p",{children:["Loading Markdown from ",d,"..."]})]}):l?(0,o.jsxs)("div",{className:"error-container",children:[(0,o.jsx)("h2",{children:"Error Loading Markdown"}),(0,o.jsx)("p",{children:l}),(0,o.jsxs)("div",{className:"url-controls",children:[(0,o.jsx)("input",{type:"text",value:d,onChange:x,placeholder:"Enter Markdown URL"}),(0,o.jsx)("button",{onClick:p,children:"Load"}),(0,o.jsx)("button",{onClick:w,children:"Retry"})]})]}):(0,o.jsxs)("main",{className:"markdown-viewer",children:[(0,o.jsx)("div",{className:"markdown-content",children:(0,o.jsx)(a.oz,{remarkPlugins:[s.A],components:{code:e=>{let{inline:t,className:n,children:r,...a}=e;const s=/language-(\w+)/.exec(n||"");return!t&&s?(0,o.jsx)(o.Fragment,{children:String(r).replace(/\n$/,"")}):(0,o.jsx)("code",{className:n,...a,children:r})},a:e=>{let{node:t,...n}=e;return(0,o.jsx)("a",{target:"_blank",rel:"noopener noreferrer",...n})},img:e=>{let{node:t,...n}=e;return(0,o.jsx)("img",{style:{maxWidth:"100%"},...n})}},children:e})}),(0,o.jsx)("div",{className:"footer",children:(0,o.jsxs)("p",{children:["Rendered with React Markdown Viewer | ",(new Date).toLocaleDateString()]})})]})}}}]);
//# sourceMappingURL=661.41826ab6.chunk.js.map