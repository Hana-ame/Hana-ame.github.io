"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[920],{3661:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var n=r(5043),a=r(8494),s=r(7274),o=r(3596),c=r(1203),l=(r(7539),r(579));const i=()=>{const[e,t]=(0,n.useState)(""),[r,i]=(0,n.useState)(!0),[d,h]=(0,n.useState)(null),[m,u]=(0,n.useState)("");(0,n.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("url");e?(u(e),w(e)):(i(!1),h("No URL parameter provided. Use ?url=https://example.com/markdown.md"))}),[]),(0,n.useEffect)((()=>{e&&x()}),[e]);const x=()=>{const t=e.match(/^#\s+(.+)$/m);t&&t[1]?document.title=`${t[1]} - \u6708\u6842\u6811`:document.title="Markdown Viewer - \u6708\u6842\u6811"},w=async e=>{try{i(!0),h(null);const r=await fetch(e);if(!r.ok)throw new Error(`Failed to fetch Markdown: ${r.status} ${r.statusText}`);const n=await r.text();t(n)}catch(r){try{const r=new URL(e);r.searchParams.set("proxy_host",r.host),r.host="proxy.moonchan.xyz";const n=await fetch(r);if(!n.ok)throw new Error(`Failed to fetch Markdown: ${n.status} ${n.statusText}`);const a=await n.text();t(a)}catch(r){h(r.message),console.error("Error fetching Markdown:",r)}}finally{i(!1)}},p=()=>{m&&w(m)},j=e=>{u(e.target.value)},k=()=>{m&&(window.location.search=`?url=${encodeURIComponent(m)}`)};return r?(0,l.jsxs)("div",{className:"loading-container",children:[(0,l.jsx)("div",{className:"spinner"}),(0,l.jsxs)("p",{children:["Loading Markdown from ",m,"..."]})]}):d?(0,l.jsxs)("div",{className:"error-container",children:[(0,l.jsx)("h2",{children:"Error Loading Markdown"}),(0,l.jsx)("p",{children:d}),(0,l.jsxs)("div",{className:"url-controls",children:[(0,l.jsx)("input",{type:"text",value:m,onChange:j,placeholder:"Enter Markdown URL"}),(0,l.jsx)("button",{onClick:k,children:"Load"}),(0,l.jsx)("button",{onClick:p,children:"Retry"})]})]}):(0,l.jsxs)("main",{className:"markdown-viewer",children:[(0,l.jsx)(c.wy,{children:(0,l.jsx)("div",{className:"markdown-content",children:(0,l.jsx)(a.oz,{remarkPlugins:[s.A,o.A],breaks:!0,components:{code:e=>{let{inline:t,className:r,children:n,...a}=e;const s=/language-(\w+)/.exec(r||"");return!t&&s?(0,l.jsx)(l.Fragment,{children:String(n).replace(/\n$/,"")}):(0,l.jsx)("code",{className:r,...a,children:n})},a:e=>{let{node:t,children:r,href:n,...a}=e;return(0,l.jsx)("a",{href:n,target:"_blank",rel:"noopener noreferrer",...a,"aria-label":r?void 0:`Link to ${n}`,children:r||n})},img:e=>{let{node:t,alt:r,...n}=e;return n.src&&(0,l.jsx)(c.A8,{src:n.src,children:(0,l.jsx)("img",{alt:r||"",style:{maxWidth:"100%",maxHeight:"100%",height:"auto",width:"auto"},...n})})}},children:e})})}),(0,l.jsxs)("div",{className:"footer",children:[(0,l.jsxs)("p",{children:["Rendered with React Markdown Viewer | ",(new Date).toLocaleDateString()]}),(0,l.jsx)("p",{children:(0,l.jsx)("a",{href:"https://moonchan.xyz/",children:"\u6708\u5c9b - \u533f\u540d\u7248"})})]})]})}}}]);
//# sourceMappingURL=920.2fed962f.chunk.js.map